export function calculateWinner(board) {
    const lines = [
        // horizontal
        [0,1,2], [3,4,5], [6,7,8],
        [9,10,11], [12,13,14], [15,16,17],
        [18,19,20], [21,22,23], [24,25,26],

        // vertical
        [0,9,18], [1,10,19], [2,11,20],
        [3,12,21], [4,13,22], [5,14,23],
        [6,15,24], [7,16,25], [8,17,26],

        //depth
        [0,3,6], [9,12,15], [18,21,24],
        [1,4,7], [10,13,16], [19,22,25],
        [2,5,8], [11,14,17], [20,23,26],

        // diagonal
        [0,4,8], [18,22,26],
        [2,4,6], [20,22,24],
        [9,13,17], [11,13,15],
        [0,13,26], [2,13,24],
        [6,13,20], [8,13,18],
        [0,10,20], [6,16,26],
        [2,10,18], [8,16,24],
        [0,12,24], [2,14,26],
        [6,12,18], [8,14,20],
        [18,22,26], [0,4,8],
        [20,22,24], [2,4,6]
    ];

    for (let line of lines) {
        const [a, b, c] = line;
        if (board[a] && board[a] === board[b] && board[a] === board[c]) {
            return {
                winner: board[a],
                positions: [a, b, c]
            };
        }
    }

    if (board.every(cell => cell !== null)) {
        return { winner: 'draw' };
    }

    return null;
}
